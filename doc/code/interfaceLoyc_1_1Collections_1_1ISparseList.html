<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Enhanced C#: Loyc.Collections.ISparseList&lt; T &gt; Interface Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Enhanced C#
   </div>
   <div id="projectbrief">Language of your choice: library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLoyc.html">Loyc</a></li><li class="navelem"><a class="el" href="namespaceLoyc_1_1Collections.html">Collections</a></li><li class="navelem"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html">ISparseList</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceLoyc_1_1Collections_1_1ISparseList-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loyc.Collections.ISparseList&lt; T &gt; Interface Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a sparse list that allows insertion and removal of items and empty spaces. In a sparse list, some spaces can be "clear" meaning that they have no value. 
 <a href="interfaceLoyc_1_1Collections_1_1ISparseList.html#details">More...</a></p>
<hr/><b>Source file</b>:<ul>
<li><a href='https://github.com/qwertie/ecsharp/tree/master/Core/Loyc.Essentials/Collections/Interfaces/ISparseList.cs'>/Core/Loyc.Essentials/Collections/Interfaces/ISparseList.cs</a></li>
</ul>
<div class="dynheader">
Inheritance diagram for Loyc.Collections.ISparseList&lt; T &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interfaceLoyc_1_1Collections_1_1ISparseList.png" usemap="#Loyc.Collections.ISparseList_3C_20T_20_3E_map" alt=""/>
  <map id="Loyc.Collections.ISparseList_3C_20T_20_3E_map" name="Loyc.Collections.ISparseList&lt; T &gt;_map">
<area href="interfaceLoyc_1_1Collections_1_1ISparseListSource.html" title="Represents a read-only indexed list in which parts of the index space may be unused or &quot;clear&quot;..." alt="Loyc.Collections.ISparseListSource&lt; T &gt;" shape="rect" coords="0,112,283,136"/>
<area href="interfaceLoyc_1_1Collections_1_1IListAndListSource.html" title="This interface combines the original IList&lt;T&gt; interface with its &quot;source&quot; (read-only) component inter..." alt="Loyc.Collections.IListAndListSource&lt; T &gt;" shape="rect" coords="586,112,869,136"/>
<area href="interfaceLoyc_1_1Collections_1_1IListSource.html" alt="Loyc.Collections.IListSource&lt; T &gt;" shape="rect" coords="0,56,283,80"/>
<area href="interfaceLoyc_1_1Collections_1_1IListSource.html" alt="Loyc.Collections.IListSource&lt; T &gt;" shape="rect" coords="586,56,869,80"/>
<area href="interfaceLoyc_1_1Collections_1_1ICollectionAndReadOnly.html" title="This interface combines the original ICollection&lt;T&gt; with IReadOnlyCollection&lt;T&gt;. It exists for the sa..." alt="Loyc.Collections.ICollectionAndReadOnly&lt; T &gt;" shape="rect" coords="879,56,1162,80"/>
<area href="interfaceLoyc_1_1Collections_1_1ISparseListEx.html" title="A sparse list that supports additional methods including InsertRange(int, ISparseListSource&lt;T&gt;)." alt="Loyc.Collections.ISparseListEx&lt; T &gt;" shape="rect" coords="293,224,576,248"/>
<area href="classLoyc_1_1Collections_1_1SparseAList.html" title="A sparse A-List that implements ISparseList&lt;T&gt;." alt="Loyc.Collections.SparseAList&lt; T &gt;" shape="rect" coords="293,280,576,304"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Remarks</h2>
<div class="textblock"><p>Represents a sparse list that allows insertion and removal of items and empty spaces. In a sparse list, some spaces can be "clear" meaning that they have no value.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Classes that implement this interface should be designed so that large empty spaces in the list consume no memory, or very little memory. Furthermore, insertions and removals at random indexes should take no more than O(M) amortized time to complete, where M is the number of elements actually set (non-empty spaces), and Count &gt;= M. (Sparse lists do not have to keep track of M itself, though, so there is no property to retrieve this value). </p>
<p>This interface has special methods for creating empty spaces: <a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html#a1cc7602d2b01718465030073eb50d0e4" title="Unsets the range of indices index to index+count-1 inclusive. If index + count &gt; Count, the sparse list shall enlarge Count to be equal to index + count.">ClearSpace(int, int)</a> and <a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html#ac8de71a160b8af846f83c84dd5ce14f1" title="Inserts empty space starting at the specified index.">InsertSpace(int, int)</a>. The implementation can treat all other insertions and changes as non-empty values; for example, given code like </p><div class="fragment"><div class="line">ISparseList&lt;T&gt; list = ...;</div><div class="line"><span class="keywordflow">foreach</span> (<span class="keywordtype">int</span> i <span class="keywordflow">in</span> Enumerable.Range(1000))</div><div class="line">    list.Add(<span class="keywordflow">default</span>(T));</div></div><!-- fragment --><p> A sparse list is allowed to treat the last 1000 items as "clear" (saving memory) or "set" (allocating memory) depending on how it is implemented. Since the .NET framework does not allow fast bitwise comparisons of a generic T (in other words, there is no fast, generic way to compare a T value with default(T)), implementations will typically treat the last 1000 items as "set" and unnecessarily allocate memory for them. Blame Microsoft. </p>
<p>This interface has no method to insert another sparse list into the current one, but ISparseListEx&lt;T&gt; does. </p>
<p>A sparse list is allowed to behave like IAutoSizeArray&lt;T&gt; when setting an invalid non-negative index. When you set <code>this[i]</code> where i &gt;= 0, the <code>Count</code> may automatically increase to <code>i + 1</code> if necessary, <em>or</em> the setter may throw ArgumentOutOfRangeException. Even if the setter succeeds, the getter of <code>this[i]</code> may still throw ArgumentOutOfRangeException when <code>i</code> is an invalid index. </p>
<p>The indexer (<code>this[i]</code>) returns a default value, typically <code>default(T)</code>, when the specified index is valid but clear. </p>
<p>Sparse list implementations do <em>not</em> have to perfectly track which spaces are clear and which spaces are set; in particular, implementations are allowed to return <code>true</code> from <code>IsSet</code> for any valid index. </p><ul>
<li>
If the default value is <code>t</code> and you set <code>this[i] = t</code>, a sparse list is allowed to return true or false from <code>IsSet(i)</code>. </li>
<li>
After you call <code>Clear(i)</code>, a sparse list is still allowed to return true from <code>IsSet(i)</code>. </li>
<li>
After you set <code>this[i] = v</code> where <code>v</code> is not the default value, <code>IsSet(i)</code> <em>must</em> return true. </li>
</ul>
<p>The purpose of this freedom is to permit implementations that use arrays of T[] for regions that are mostly filled. For example, if 95 out of 100 indexes in a certain region are filled, an implementation may decide it is more efficient to use an array that discards information about the empty spaces. </p>
<p>On the other hand, some implementations are precise, and will always report that <code>IsSet(i)==false</code> after you call <code>Clear(i)</code> or <code>InsertSpace(i)</code>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1cc7602d2b01718465030073eb50d0e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLoyc_1_1void.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html#a1cc7602d2b01718465030073eb50d0e4">ClearSpace</a> (int index, int count=1)</td></tr>
<tr class="memdesc:a1cc7602d2b01718465030073eb50d0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsets the range of indices <code>index</code> to <code>index+count-1</code> inclusive. If <code>index + count &gt; Count</code>, the sparse list shall enlarge <code>Count</code> to be equal to <code>index + count</code>. <a href="#a1cc7602d2b01718465030073eb50d0e4">More...</a><br /></td></tr>
<tr class="separator:a1cc7602d2b01718465030073eb50d0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8de71a160b8af846f83c84dd5ce14f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLoyc_1_1void.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html#ac8de71a160b8af846f83c84dd5ce14f1">InsertSpace</a> (int index, int count=1)</td></tr>
<tr class="memdesc:ac8de71a160b8af846f83c84dd5ce14f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts empty space starting at the specified index. <a href="#ac8de71a160b8af846f83c84dd5ce14f1">More...</a><br /></td></tr>
<tr class="separator:ac8de71a160b8af846f83c84dd5ce14f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseListSource.html">Loyc.Collections.ISparseListSource&lt; T &gt;</a></td></tr>
<tr class="memitem:af364c65eb954e62096dc1fdfa121e07d inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseListSource.html#af364c65eb954e62096dc1fdfa121e07d">NextHigherItem</a> (ref int?index)</td></tr>
<tr class="memdesc:af364c65eb954e62096dc1fdfa121e07d inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increases <code>index</code> by at least one to reach the next index that is not classified as empty space, and returns the item at that index. <a href="#af364c65eb954e62096dc1fdfa121e07d">More...</a><br /></td></tr>
<tr class="separator:af364c65eb954e62096dc1fdfa121e07d inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4bd398e22eeebac504bbd5feb6b09b3 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseListSource.html#ac4bd398e22eeebac504bbd5feb6b09b3">NextLowerItem</a> (ref int?index)</td></tr>
<tr class="memdesc:ac4bd398e22eeebac504bbd5feb6b09b3 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decreases <code>index</code> by at least one to reach the next index that is not classified as empty space, and returns the item at that index. <a href="#ac4bd398e22eeebac504bbd5feb6b09b3">More...</a><br /></td></tr>
<tr class="separator:ac4bd398e22eeebac504bbd5feb6b09b3 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729f3e987410a739101c05289a7ede31 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseListSource.html#a729f3e987410a739101c05289a7ede31">IsSet</a> (int index)</td></tr>
<tr class="memdesc:a729f3e987410a739101c05289a7ede31 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a value exists at the specified index. <a href="#a729f3e987410a739101c05289a7ede31">More...</a><br /></td></tr>
<tr class="separator:a729f3e987410a739101c05289a7ede31 inherit pub_methods_interfaceLoyc_1_1Collections_1_1ISparseListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceLoyc_1_1Collections_1_1IListSource')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">Loyc.Collections.IListSource&lt; T &gt;</a></td></tr>
<tr class="memitem:a19a865ed54cfef48cd244d1343ff83b6 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html#a19a865ed54cfef48cd244d1343ff83b6">TryGet</a> (int index, out bool fail)</td></tr>
<tr class="memdesc:a19a865ed54cfef48cd244d1343ff83b6 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the item at the specified index, and does not throw an exception on failure. <a href="#a19a865ed54cfef48cd244d1343ff83b6">More...</a><br /></td></tr>
<tr class="separator:a19a865ed54cfef48cd244d1343ff83b6 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceLoyc_1_1Collections_1_1IRange.html">IRange</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html#a52cf4d93658771ea9539ed905d2d91bf">Slice</a> (int start, int count=int.MaxValue)</td></tr>
<tr class="memdesc:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a sub-range of this list. <a href="#a52cf4d93658771ea9539ed905d2d91bf">More...</a><br /></td></tr>
<tr class="separator:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1cc7602d2b01718465030073eb50d0e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLoyc_1_1void.html">void</a> <a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html">Loyc.Collections.ISparseList</a>&lt; T &gt;.ClearSpace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsets the range of indices <code>index</code> to <code>index+count-1</code> inclusive. If <code>index + count &gt; Count</code>, the sparse list shall enlarge <code>Count</code> to be equal to <code>index + count</code>.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentOutOfRangeException</td><td><code>index</code> or <code>count</code> was negative.</td></tr>
    <tr><td class="paramname">OverflowException</td><td><code>index + count</code> overflowed.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classLoyc_1_1Collections_1_1SparseAList.html#af1c38ac77974dd5d5f071436ea969eb7">Loyc.Collections.SparseAList&lt; T &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="ac8de71a160b8af846f83c84dd5ce14f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLoyc_1_1void.html">void</a> <a class="el" href="interfaceLoyc_1_1Collections_1_1ISparseList.html">Loyc.Collections.ISparseList</a>&lt; T &gt;.InsertSpace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts empty space starting at the specified index.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">OverflowException</td><td><code>index + count</code> overflowed.</td></tr>
    <tr><td class="paramname">ArgumentOutOfRangeException</td><td><code>index</code> or <code>count</code> was negative. If <code>index &gt; Count</code>, this method may throw: if, for this kind of list, setting this[i] for some invalid i&gt;=0 throws <code>ArgumentOutOfRangeException</code>, then so too does this method throw. If you want the list to be enlarged instead, call <code>Clear(index, 0)</code> first, since the contract of Clear() requires it not to throw in the same situation.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classLoyc_1_1Collections_1_1SparseAList.html#ae9791bb7822c8dd71acc2d1b83cee5fa">Loyc.Collections.SparseAList&lt; T &gt;</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 1 2017 18:58:30 for Enhanced C# by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
